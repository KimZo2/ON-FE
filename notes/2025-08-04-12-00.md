# ON λ©”νƒ€λ²„μ¤ ν¨μΉλ…ΈνΈ

## v1.0.0 - λ©”νƒ€λ²„μ¤ μ΄κΈ° μ¶μ‹ (2025-08-04)

### π μƒλ΅μ΄ κΈ°λ¥

#### π λ©”νƒ€λ²„μ¤ μ‹μ¤ν… κµ¬ν„
- **κ°€μƒ μ„Έκ³„/κ³µκ°„ κµ¬ν„**
  - 20x15 νƒ€μΌ κΈ°λ° 2D λ§µ μ‹μ¤ν… μ¶”κ°€
  - λ‹¤μ–‘ν• μ§€ν• νƒ€μΌ (λ•…, λ²½, λ¬Ό) κµ¬ν„
  - ν”λ μ΄μ–΄ μ¶©λ μ‹μ¤ν… λ° λ¬Όλ¦¬ μ—”μ§„ μ μ©
  - μΉ΄λ©”λΌ ν”λ΅μ° λ° μ¤ κΈ°λ¥

#### π‘¥ λ©€ν‹°ν”λ μ΄μ–΄ κΈ°λ¥
- **μ‹¤μ‹κ°„ Socket.io κΈ°λ° λ©€ν‹°ν”λ μ΄μ–΄ μ‹μ¤ν…**
  - ν”λ μ΄μ–΄ μ‹¤μ‹κ°„ μ°Έκ°€/ν‡΄μ¥ μ²λ¦¬
  - ν”λ μ΄μ–΄ μ„μΉ λ™κΈ°ν™” λ° μ΄λ™ μ¶”μ 
  - μ¨λΌμΈ μ‚¬μ©μ μ μ‹¤μ‹κ°„ ν‘μ‹
  - μ•μ •μ μΈ μ—°κ²° κ΄€λ¦¬ λ° μ¬μ—°κ²° λ΅μ§

#### π’¬ μ‹¤μ‹κ°„ μ±„ν… μ‹μ¤ν…
- **κ²μ„ λ‚΄ μ±„ν… μΈν„°νμ΄μ¤**
  - μ‹¤μ‹κ°„ λ©”μ‹μ§€ μ†΅μμ‹ 
  - μ±„ν… νμ¤ν† λ¦¬ κ΄€λ¦¬ (μµκ·Ό 20κ° λ©”μ‹μ§€)
  - μµμ†ν™” κ°€λ¥ν• μ±„ν…μ°½ UI
  - λ©”μ‹μ§€ νƒ€μ„μ¤νƒ¬ν”„ λ° λ°μ‹ μ ν‘μ‹

#### π® μ•„λ°”νƒ€/μΊλ¦­ν„° μ‹μ¤ν…
- **κ°μΈν™”λ ν”λ μ΄μ–΄ μ•„λ°”νƒ€**
  - κ³ μ ν• ν”λ μ΄μ–΄ μƒ‰μƒ μ‹μ¤ν…
  - ν”λ μ΄μ–΄ μ΄λ¦„ ν‘μ‹
  - WASD λ° ν™”μ‚΄ν‘ ν‚¤ μ΅°μ‘ μ§€μ›
  - λ¶€λ“λ¬μ΄ μ΄λ™ μ• λ‹λ©”μ΄μ…

### π› οΈ κΈ°μ μ  κµ¬ν„μ‚¬ν•­

#### ν”„λ΅ νΈμ—”λ“
- **Phaser 3.90.0** - κ²μ„ μ—”μ§„
- **Socket.io-client** - μ‹¤μ‹κ°„ ν†µμ‹ 
- **React μ»΄ν¬λ„νΈ κΈ°λ° UI**
- **Tailwind CSS** - μ¤νƒ€μΌλ§

#### λ°±μ—”λ“
- **Node.js + Express** - μ„λ²„ ν”„λ μ„μ›ν¬
- **Socket.io 4.7.2** - μ‹¤μ‹κ°„ ν†µμ‹  μ„λ²„
- **CORS μ„¤μ •** - ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„ μ•μ „ν• ν†µμ‹ 

#### νμΌ κµ¬μ΅°
```
on-fe/
β”β”€β”€ phaser/
β”‚   β”β”€β”€ game/
β”‚   β”‚   β”β”€β”€ scenes/
β”‚   β”‚   β”‚   β”β”€β”€ MetaverseScene.js    # λ©”νƒ€λ²„μ¤ λ©”μΈ μ”¬
β”‚   β”‚   β”‚   β”β”€β”€ Boot.js
β”‚   β”‚   β”‚   β”β”€β”€ Game.js
β”‚   β”‚   β”‚   β”β”€β”€ GameOver.js
β”‚   β”‚   β”‚   β”β”€β”€ MainMenu.js
β”‚   β”‚   β”‚   β””β”€β”€ Preloader.js
β”‚   β”‚   β”β”€β”€ EventBus.js              # μ»΄ν¬λ„νΈ κ°„ ν†µμ‹ 
β”‚   β”‚   β””β”€β”€ main.js                  # Phaser κ²μ„ μ„¤μ •
β”β”€β”€ components/
β”‚   β””β”€β”€ metaverse/
β”‚       β”β”€β”€ MetaverseContainer.jsx   # λ©”νƒ€λ²„μ¤ λ©”μΈ μ»¨ν…μ΄λ„
β”‚       β””β”€β”€ ChatInterface.jsx        # μ±„ν… μΈν„°νμ΄μ¤
β”β”€β”€ services/
β”‚   β””β”€β”€ socket.js                    # Socket.io ν΄λΌμ΄μ–ΈνΈ μ„λΉ„μ¤
β”β”€β”€ app/(main)/
β”‚   β””β”€β”€ metaverse/
β”‚       β””β”€β”€ page.js                  # λ©”νƒ€λ²„μ¤ νμ΄μ§€
β””β”€β”€ server/
    β”β”€β”€ server.js                    # Socket.io μ„λ²„
    β”β”€β”€ package.json
    β””β”€β”€ README.md
```

### π”§ κΈ°μ μ  ν•΄κ²°μ‚¬ν•­

#### Next.js SSR ν™κ²½μ—μ„ Phaser νΈν™μ„± λ¬Έμ  ν•΄κ²°
- **λ¬Έμ **: `Export default doesn't exist in target module` μ—λ¬
- **ν•΄κ²°λ°©λ²•**: 
  - Phaser λ™μ  importλ΅ λ³€κ²½ (`typeof window !== 'undefined'` μ²΄ν¬)
  - λ¨λ“  Scene ν΄λμ¤μ—μ„ λ™μ  μƒμ† κµ¬μ΅° μ μ©
  - EventBusλ¥Ό Phaser λ…λ¦½μ μΈ κµ¬ν„μΌλ΅ λ³€κ²½
  - Next.js webpack μ„¤μ • μµμ ν™”

```javascript
// κΈ°μ΅΄ (μ—λ¬ λ°μƒ)
import Phaser from 'phaser';
export class MetaverseScene extends Scene

// μμ • ν›„ (μ •μƒ μ‘λ™)
let Phaser = null;
if (typeof window !== 'undefined') {
    Phaser = require('phaser');
}
export class MetaverseScene extends (Phaser?.Scene || Object)
```

### π― ν•µμ‹¬ κΈ°λ¥ μƒμ„Έ

#### λ©”νƒ€λ²„μ¤ μ…μ¥ ν”„λ΅μ„Έμ¤
1. λ©”μΈ νμ΄μ§€μ—μ„ "λ©”νƒ€λ²„μ¤ μ²΄ν—" λ²„νΌ ν΄λ¦­
2. ν”λ μ΄μ–΄ μ΄λ¦„ μ…λ ¥
3. Socket.io μ„λ²„ μ—°κ²° λ€κΈ°
4. λ©”νƒ€λ²„μ¤ μ”¬ λ΅λ“ λ° ν”λ μ΄μ–΄ μ¤ν°
5. λ‹¤λ¥Έ ν”λ μ΄μ–΄λ“¤κ³Ό μ‹¤μ‹κ°„ μƒνΈμ‘μ© μ‹μ‘

#### κ²μ„ μ΅°μ‘λ²•
- **μ΄λ™**: ν™”μ‚΄ν‘ ν‚¤ λλ” WASD
- **μ±„ν…**: μ°ν•λ‹¨ μ±„ν…μ°½ μ‚¬μ©
- **μ±„ν…μ°½ μµμ†ν™”**: μ±„ν…μ°½ ν—¤λ”μ ν™”μ‚΄ν‘ λ²„νΌ

#### μ„λ²„ λ¨λ‹ν„°λ§ API
- `GET /status` - μ„λ²„ μƒνƒ λ° ν†µκ³„
- `GET /players` - ν„μ¬ μ ‘μ† ν”λ μ΄μ–΄ λ©λ΅
- `GET /chat-history` - μ±„ν… νμ¤ν† λ¦¬ μ΅°ν

### π“¦ μμ΅΄μ„± μ¶”κ°€
- `socket.io-client: ^4.8.1` - ν΄λΌμ΄μ–ΈνΈ μ†μΌ“ ν†µμ‹ 
- `uuid: ^11.1.0` - κ³ μ  ν”λ μ΄μ–΄ ID μƒμ„±

### π€ μ‹¤ν–‰ λ°©λ²•

#### κ°λ° ν™κ²½ μ‹¤ν–‰
1. **μ„λ²„ μ‹¤ν–‰**:
   ```bash
   cd server
   npm install
   npm run dev
   ```

2. **ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰**:
   ```bash
   npm run dev
   ```

3. **μ ‘μ†**: `http://localhost:3000` β†’ "λ©”νƒ€λ²„μ¤ μ²΄ν—"

### π”® ν–¥ν›„ κ³„ν
- [ ] 3D ν™κ²½μΌλ΅ μ—…κ·Έλ μ΄λ“
- [ ] λ” λ‹¤μ–‘ν• λ§µκ³Ό μ¤λΈμ νΈ
- [ ] μμ„± μ±„ν… κΈ°λ¥
- [ ] μ•„λ°”νƒ€ μ»¤μ¤ν„°λ§μ΄μ§•
- [ ] λ―Έλ‹κ²μ„ λ° μƒνΈμ‘μ© μ”μ†
- [ ] λ¨λ°”μΌ μµμ ν™”

---

**κ°λ°μ**: Claude Code Assistant  
**κ°λ° κΈ°κ°„**: 2025-08-04  
**κΈ°μ  μ¤νƒ**: Next.js, React, Phaser 3, Socket.io, Node.js, Express
